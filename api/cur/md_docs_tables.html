<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>icedb: Tables</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">icedb
   &#160;<span id="projectnumber">version 0.5.1</span>
   </div>
   <div id="projectbrief">Snow particle scattering database API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tables </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Most of the data in the scattering database is stored using tables. In HDF5, these are called <a href="https://support.hdfgroup.org/HDF5/Tutor/crtdat.html#def">datasets</a>, and some dataset subsets are called <a href="https://support.hdfgroup.org/HDF5/doc/HL/RM_H5TB.html">tables</a>. In netCDF, these objects are called <a href="https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_data_set_components.html#variables">variables</a>.</p>
<p>All tables may contain attributes.</p>
<h2>What is a table?</h2>
<p>A table is a multidimensional array of data elements, together with supporting metadata. Tables may contain different types of data, such as integers, floating point numbers and character arrays. In icedb, all of the elements of a table must have the same data type. This restriction is the same as in netCDF, although HDF5 has a more relaxed implementation.</p>
<p>Tables are usually much larger than attributes. Unlike attributes, tables are not automatically loaded into memory. Tables support partial read and write operations.</p>
<h2>Usage</h2>
<p>See <a class="el" href="fs-test_8cpp.html">fs-test.cpp</a> for good usage examples.</p>
<p>Creating a table is easy.</p>
<p>This command will make a table with two rows and three columns. The data are inserted into the table in row-major form. See <a class="el" href="Table_8hpp.html">Table.hpp</a> to list the methods for adding larger data into tables. For these other methods, the sizing of the table may be de-coupled from writing data to the tables. </p><div class="fragment"><div class="line">auto tblTest = grpTest1-&gt;createTable&lt;int64_t&gt;(&quot;Test_table_1&quot;, { 2, 3 }, { -2, -1, 0, 1, 2, 3 });</div></div><!-- fragment --><p>Under their current implementation, table dimensions are entirely fixed and are set at creation. In the future, support for extendible dimensions will be added.</p>
<p>Tables support the same data types as attributes (uint64_t, int64_t, float, double). Strings are on the to-do list. Unlike with attributes, tables can be entirely multi-dimensional.</p>
<p>Tables can have attributes. </p><div class="fragment"><div class="line">tblTest-&gt;writeAttribute&lt;int64_t&gt;(icedb::Attributes::Attribute&lt;int64_t&gt;(&quot;TestInt7&quot;, 5));</div><div class="line">tblTest-&gt;writeAttribute&lt;int64_t&gt;(icedb::Attributes::Attribute&lt;int64_t&gt;(&quot;TestInt8&quot;, { 4 }, { 1, -1, 2, -2 }));</div></div><!-- fragment --><p>For compatability with netCDF, each data table must be associated with one or more "dimension scales". To create and associate these scales with a table, commands like these are needed: </p><div class="fragment"><div class="line">auto tblDims1 = grpTest1-&gt;createTable&lt;int64_t&gt;(&quot;X_axis&quot;, { 3 }, { 9, 10, 11 });</div><div class="line">auto tblDims2 = grpTest1-&gt;createTable&lt;int64_t&gt;(&quot;Y_axis&quot;, { 2 }, { 4, 6 });</div><div class="line">tblDims1-&gt;setDimensionScale(&quot;X_axis&quot;);</div><div class="line">tblDims2-&gt;setDimensionScale(&quot;Y_axis&quot;);</div><div class="line">tblTest-&gt;attachDimensionScale(0, tblDims2.get());</div><div class="line">tblTest-&gt;attachDimensionScale(1, tblDims1.get());</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
